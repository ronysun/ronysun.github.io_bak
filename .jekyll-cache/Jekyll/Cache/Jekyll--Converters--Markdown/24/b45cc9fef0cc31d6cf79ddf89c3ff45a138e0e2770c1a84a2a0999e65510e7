I"ç<h2 id="rallyå‘½ä»¤">rallyå‘½ä»¤</h2>
<p>version,bash-completion,task,plugin,verify,deployment</p>
<h3 id="rally-deployment">rally deployment</h3>
<p>rally deploymentå¸¸ç”¨å‘½ä»¤ï¼šcreate, destroy, list, show, use
deployment åˆå§‹åŒ–ç¯å¢ƒå¸¸ç”¨çš„æœ‰ä¸¤ç§æ–¹å¼ï¼š</p>
<ol>
  <li>source openrc, rally deployment create â€“fromenv â€“name=existing</li>
  <li>rally deployment create â€“file=existing.json â€“name=existing <br />
<a href="https://github.com/openstack/rally/blob/master/samples/deployments/existing.json">existing.json</a></li>
</ol>

<h3 id="rally-task">rally task</h3>
<p>rally task start samples/tasks/scenarios/nova/boot-and-delete.json
åŸç”Ÿä»£ç ä¸­å·²ç»å­˜åœ¨å¾ˆå¤šæµ‹è¯•åœºæ™¯çš„é…ç½®æ–‡ä»¶: <a href="https://github.com/openstack/rally/tree/master/samples/tasks/scenarios">samples/tasks/scenarios</a></p>

<h3 id="rally-plugin">rally plugin</h3>
<p>rally plugin listèƒ½å¤Ÿåˆ—å‡ºæ‰€æ”¯æŒçš„pluginã€‚</p>

<h3 id="rally-task-templates">rally task templates</h3>
<p>rallyæ”¯æŒJinja2çš„æ¨¡æ¿æ ¼å¼ï¼š</p>
<div class="language-yaml highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nn">---</span>
  <span class="s">NovaServers.boot_and_delete_server</span><span class="pi">:</span>
    <span class="pi">-</span>
      <span class="na">args</span><span class="pi">:</span>
        <span class="na">flavor</span><span class="pi">:</span>
            <span class="na">name</span><span class="pi">:</span> <span class="s2">"</span><span class="s">m1.tiny"</span>
        <span class="na">image</span><span class="pi">:</span>
            <span class="na">name</span><span class="pi">:</span> <span class="s2">"</span><span class="s">^cirros.*-disk$"</span>
      <span class="na">runner</span><span class="pi">:</span>
        <span class="na">type</span><span class="pi">:</span> <span class="s2">"</span><span class="s">constant"</span>
        <span class="na">times</span><span class="pi">:</span> <span class="m">2</span>
        <span class="na">concurrency</span><span class="pi">:</span> <span class="m">1</span>
      <span class="na">context</span><span class="pi">:</span>
        <span class="na">users</span><span class="pi">:</span>
          <span class="na">tenants</span><span class="pi">:</span> <span class="m">1</span>
          <span class="na">users_per_tenant</span><span class="pi">:</span> <span class="m">1</span>

  <span class="s">NovaServers.resize_server</span><span class="pi">:</span>
    <span class="pi">-</span>
      <span class="na">args</span><span class="pi">:</span>
        <span class="na">flavor</span><span class="pi">:</span>
            <span class="na">name</span><span class="pi">:</span> <span class="s2">"</span><span class="s">m1.tiny"</span>
        <span class="na">image</span><span class="pi">:</span>
            <span class="na">name</span><span class="pi">:</span> <span class="s2">"</span><span class="s">^cirros.*-disk$"</span>
        <span class="na">to_flavor</span><span class="pi">:</span>
            <span class="na">name</span><span class="pi">:</span> <span class="s2">"</span><span class="s">m1.small"</span>
      <span class="na">runner</span><span class="pi">:</span>
        <span class="na">type</span><span class="pi">:</span> <span class="s2">"</span><span class="s">constant"</span>
        <span class="na">times</span><span class="pi">:</span> <span class="m">3</span>
        <span class="na">concurrency</span><span class="pi">:</span> <span class="m">1</span>
      <span class="na">context</span><span class="pi">:</span>
        <span class="na">users</span><span class="pi">:</span>
          <span class="na">tenants</span><span class="pi">:</span> <span class="m">1</span>
          <span class="na">users_per_tenant</span><span class="pi">:</span> <span class="m">1</span>
</code></pre></div></div>
<p>æˆ‘ä»¬å¯ä»¥å°†ä¸Šé¢çš„é…ç½®æ–‡ä»¶ä¿®æ”¹ä¸ºï¼š</p>
<div class="language-yaml highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nn">---</span>
  <span class="s">NovaServers.boot_and_delete_server</span><span class="pi">:</span>
    <span class="pi">-</span>
      <span class="na">args</span><span class="pi">:</span>
        <span class="na">flavor</span><span class="pi">:</span>
            <span class="na">name</span><span class="pi">:</span> <span class="s2">"</span><span class="s">m1.tiny"</span>
        <span class="na">image</span><span class="pi">:</span>
            <span class="na">name</span><span class="pi">:</span> 
      <span class="na">runner</span><span class="pi">:</span>
        <span class="na">type</span><span class="pi">:</span> <span class="s2">"</span><span class="s">constant"</span>
        <span class="na">times</span><span class="pi">:</span> <span class="m">2</span>
        <span class="na">concurrency</span><span class="pi">:</span> <span class="m">1</span>
      <span class="na">context</span><span class="pi">:</span>
        <span class="na">users</span><span class="pi">:</span>
          <span class="na">tenants</span><span class="pi">:</span> <span class="m">1</span>
          <span class="na">users_per_tenant</span><span class="pi">:</span> <span class="m">1</span>

  <span class="s">NovaServers.resize_server</span><span class="pi">:</span>
    <span class="pi">-</span>
      <span class="na">args</span><span class="pi">:</span>
        <span class="na">flavor</span><span class="pi">:</span>
            <span class="na">name</span><span class="pi">:</span> <span class="s2">"</span><span class="s">m1.tiny"</span>
        <span class="na">image</span><span class="pi">:</span>
            <span class="na">name</span><span class="pi">:</span> 
        <span class="na">to_flavor</span><span class="pi">:</span>
            <span class="na">name</span><span class="pi">:</span> <span class="s2">"</span><span class="s">m1.small"</span>
      <span class="na">runner</span><span class="pi">:</span>
        <span class="na">type</span><span class="pi">:</span> <span class="s2">"</span><span class="s">constant"</span>
        <span class="na">times</span><span class="pi">:</span> <span class="m">3</span>
        <span class="na">concurrency</span><span class="pi">:</span> <span class="m">1</span>
      <span class="na">context</span><span class="pi">:</span>
        <span class="na">users</span><span class="pi">:</span>
          <span class="na">tenants</span><span class="pi">:</span> <span class="m">1</span>
          <span class="na">users_per_tenant</span><span class="pi">:</span> <span class="m">1</span>
</code></pre></div></div>
<p>ä¿®æ”¹é…ç½®æ–‡ä»¶åï¼Œå¯ä»¥é€šè¿‡ä¸¤ç§æ–¹å¼ä¼ è¾“image_nameå‚æ•°ï¼š</p>
<ol>
  <li>rally task start task.yaml â€“task-args â€˜image_name: â€œ^cirros.*-disk$â€â€™</li>
  <li>rally task start task.yaml â€“task-args-file args.yaml ,yamlæ–‡ä»¶å†…å®¹ï¼š
    <div class="language-yaml highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nn">---</span>
  <span class="na">image_name</span><span class="pi">:</span> <span class="s2">"</span><span class="s">^cirros.*-disk$"</span>
</code></pre></div>    </div>
  </li>
</ol>
:ET